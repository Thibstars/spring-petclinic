<!DOCTYPE html>

<html xmlns:th="https://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout (~{::body},'pets')}">

<body>


<h2>Pet Information</h2>

<div th:if="${message}" class="alert alert-success" id="success-message">
  <span th:text="${message}"></span>
</div>

<div th:if="${error}" class="alert alert-danger" id="error-message">
  <span th:text="${error}"></span>
</div>


<table class="table table-striped" th:object="${pet}">
  <tr>
    <td valign="top">
      <dl class="dl-horizontal">
        <dt>Name</dt>
        <dd th:text="${pet.name}"></dd>
        <dt>Birth Date</dt>
        <dd
          th:text="${#temporals.format(pet.birthDate, 'yyyy-MM-dd')}"></dd>
        <dt>Type</dt>
        <dd th:text="${pet.type}"></dd>
        <dt>Owner</dt>
        <dd><a th:text="${owner.firstName + ' ' + owner.lastName}" th:href="@{../owners/__${owner.id}__}"></a></dd>
      </dl>
    </td>
      <table class="table-condensed">
        <thead>
        <tr>
          <th>Visit Date</th>
          <th>Description</th>
        </tr>
        </thead>
        <tr th:each="visit : ${pet.visits}">
          <td th:text="${#temporals.format(visit.date, 'yyyy-MM-dd')}"></td>
          <td th:text="${visit?.description}"></td>
        </tr>
        <tr th:object="${owner}">
          <a style="all: unset" th:href="@{../owners/__${owner.id}__/pets/__${pet.id}__/edit}">
            <button style="margin-bottom: 1em"
              class="btn btn-primary" type="button">
              Edit Pet
            </button>
          </a>
          <td><a th:href="@{../owners/__${owner.id}__/pets/__${pet.id}__/visits/new}">Add Visit</a></td>
        </tr>
      </table>
</table>

<br/>
<br/>
<br/>
<script>
  // Function to hide the success and error messages after 3 seconds
  function hideMessages() {
    setTimeout(function () {
      document.getElementById("success-message").style.display = "none";
      document.getElementById("error-message").style.display = "none";
    }, 3000); // 3000 milliseconds (3 seconds)
  }

  // Call the function to hide messages
  hideMessages();
</script>

</body>


</html>
